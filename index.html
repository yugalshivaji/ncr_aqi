<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Delhi-NCR Air Quality Monitor</title>
    <meta name="description" content="Advanced air quality monitoring with real-time data and complaint management">
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Authentication Section -->
    <div id="auth-section">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-md-10 col-lg-8">
                    <div class="auth-container">
                        <div class="auth-header">
                            <h1><i class="fas fa-wind me-2"></i>AQI Monitor Delhi-NCR</h1>
                            <p class="mb-0">Advanced air quality monitoring with real-time data</p>
                        </div>
                        
                        <div class="auth-tabs">
                            <div class="auth-tab active" id="login-tab">Login</div>
                            <div class="auth-tab" id="register-tab">Register</div>
                        </div>
                        
                        <div class="auth-content">
                            <!-- Login Form -->
                            <div id="login-form" class="auth-panel">
                                <h3 class="text-center mb-4">Login to Your Account</h3>
                                
                                <div class="alert alert-info">
                                    <strong>Demo Account:</strong> username: demo | password: demo123
                                </div>
                                
                                <form id="loginForm">
                                    <div class="mb-3">
                                        <label for="loginUsername" class="form-label">Username</label>
                                        <div class="input-group">
                                            <span class="input-group-text"><i class="fas fa-user"></i></span>
                                            <input type="text" class="form-control" id="loginUsername" placeholder="Enter your username" required>
                                        </div>
                                    </div>
                                    
                                    <div class="mb-3">
                                        <label for="loginPassword" class="form-label">Password</label>
                                        <div class="form-floating">
                                            <input type="password" class="form-control" id="loginPassword" placeholder="Enter your password" required>
                                            <span class="password-toggle" onclick="togglePassword('loginPassword')">
                                                <i class="fas fa-eye"></i>
                                            </span>
                                        </div>
                                    </div>
                                    
                                    <div class="mb-3 form-check">
                                        <input type="checkbox" class="form-check-input" id="rememberMe">
                                        <label class="form-check-label" for="rememberMe">Remember me</label>
                                    </div>
                                    
                                    <div class="d-grid gap-2">
                                        <button type="submit" class="btn btn-primary btn-lg">
                                            <span id="login-spinner" class="loading-spinner" style="display: none;"></span>
                                            Login
                                        </button>
                                    </div>
                                </form>
                            </div>
                            
                            <!-- Registration Form -->
                            <div id="register-form" class="auth-panel" style="display: none;">
                                <h3 class="text-center mb-4">Create Your Account</h3>
                                
                                <form id="registrationForm">
                                    <div class="row">
                                        <div class="col-md-6 mb-3">
                                            <label for="fullName" class="form-label">Full Name</label>
                                            <input type="text" class="form-control" id="fullName" required>
                                        </div>
                                        <div class="col-md-6 mb-3">
                                            <label for="username" class="form-label">Username</label>
                                            <input type="text" class="form-control" id="username" required>
                                        </div>
                                    </div>
                                    
                                    <div class="row">
                                        <div class="col-md-6 mb-3">
                                            <label for="email" class="form-label">Email Address</label>
                                            <input type="email" class="form-control" id="email" required>
                                        </div>
                                        <div class="col-md-6 mb-3">
                                            <label for="mobile" class="form-label">Mobile Number</label>
                                            <input type="tel" class="form-control" id="mobile" required>
                                        </div>
                                    </div>
                                    
                                    <div class="row">
                                        <div class="col-md-6 mb-3">
                                            <label for="password" class="form-label">Password</label>
                                            <div class="form-floating">
                                                <input type="password" class="form-control" id="password" required>
                                                <span class="password-toggle" onclick="togglePassword('password')">
                                                    <i class="fas fa-eye"></i>
                                                </span>
                                            </div>
                                        </div>
                                        <div class="col-md-6 mb-3">
                                            <label for="confirmPasswordReg" class="form-label">Confirm Password</label>
                                            <div class="form-floating">
                                                <input type="password" class="form-control" id="confirmPasswordReg" required>
                                                <span class="password-toggle" onclick="togglePassword('confirmPasswordReg')">
                                                    <i class="fas fa-eye"></i>
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="mb-3 form-check">
                                        <input type="checkbox" class="form-check-input" id="terms" required>
                                        <label class="form-check-label" for="terms">I agree to the Terms of Service and Privacy Policy</label>
                                    </div>
                                    
                                    <div class="d-grid gap-2">
                                        <button type="submit" class="btn btn-success btn-lg">
                                            <span id="register-spinner" class="loading-spinner" style="display: none;"></span>
                                            Create Account
                                        </button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Dashboard Section -->
    <div id="dashboard-section" class="app-container" style="display: none;">
        <!-- Header -->
        <header class="app-header">
            <div class="header-left">
                <div class="logo">
                    <div class="logo-icon">
                        <i class="fas fa-wind"></i>
                    </div>
                    <span class="d-none d-md-inline">AQI Monitor</span>
                    <small class="d-none d-sm-inline d-md-none">Govt. of NCT Delhi</small>
                </div>
            </div>
            <div class="header-right">
                <button class="header-icon" id="notificationsBtn">
                    <i class="fas fa-bell"></i>
                    <span class="notification-badge" id="notificationCount">0</span>
                </button>
                <button class="header-icon" id="profileBtn">
                    <i class="fas fa-user"></i>
                </button>
            </div>
        </header>
        
        <!-- Main Content Area -->
        <div class="main-content" id="mainContent">
            <!-- Dashboard Content -->
            <section class="content-section active" id="dashboard-section-content">
                <!-- Header Section -->
                <div class="row mb-4">
                    <div class="col-12 text-center">
                        <h1 class="display-5 fw-bold text-primary">Air Quality Dashboard</h1>
                        <p class="lead text-muted">Real-time monitoring & health recommendations</p>
                        <div class="d-flex justify-content-center align-items-center">
                            <small class="text-muted">Last updated: <span id="lastUpdated">Loading...</span></small>
                            <span class="real-time-indicator">Live</span>
                        </div>
                    </div>
                </div>

                <!-- Alert Section -->
                <div class="row mb-4" id="healthAlert" style="display: none;">
                    <div class="col-12">
                        <div class="alert alert-warning d-flex align-items-center" role="alert">
                            <i class="fas fa-exclamation-triangle me-3 fa-2x"></i>
                            <div>
                                <h5 class="alert-heading mb-1" id="alertTitle">Health Alert</h5>
                                <p class="mb-0" id="alertMessage">Current air quality may affect sensitive individuals.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Main AQI Display -->
                <div class="row mb-4">
                    <div class="col-12">
                        <div class="dashboard-card">
                            <div class="card-body text-center py-4">
                                <h3 class="text-muted mb-3">Current AQI - Delhi NCR</h3>
                                <div class="display-1 fw-bold mb-3" id="mainAQI">--</div>
                                <div class="badge fs-5 px-4 py-2 mb-4" id="mainAQICategory">Loading...</div>
                                <div class="progress mb-3" style="height: 12px;">
                                    <div class="progress-bar" role="progressbar" id="aqiProgress"></div>
                                </div>
                                <p class="text-muted mb-2" id="aqiDescription">Fetching real-time data...</p>
                                <p class="text-muted small" id="dominantPollutant"></p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Weather & Pollutant Stats -->
                <div class="row mb-4">
                    <div class="col-6 col-md-3 mb-3">
                        <div class="dashboard-card h-100">
                            <div class="card-body text-center">
                                <i class="fas fa-thermometer-half fa-2x text-info mb-3"></i>
                                <h5>Temperature</h5>
                                <div class="h4 fw-bold" id="temperature">--Â°C</div>
                            </div>
                        </div>
                    </div>
                    <div class="col-6 col-md-3 mb-3">
                        <div class="dashboard-card h-100">
                            <div class="card-body text-center">
                                <i class="fas fa-wind fa-2x text-primary mb-3"></i>
                                <h5>Wind Speed</h5>
                                <div class="h4 fw-bold" id="windSpeed">-- m/s</div>
                            </div>
                        </div>
                    </div>
                    <div class="col-6 col-md-3 mb-3">
                        <div class="dashboard-card h-100">
                            <div class="card-body text-center">
                                <i class="fas fa-tint fa-2x text-success mb-3"></i>
                                <h5>Humidity</h5>
                                <div class="h4 fw-bold" id="humidity">--%</div>
                            </div>
                        </div>
                    </div>
                    <div class="col-6 col-md-3 mb-3">
                        <div class="dashboard-card h-100">
                            <div class="card-body text-center">
                                <i class="fas fa-eye fa-2x text-warning mb-3"></i>
                                <h5>Visibility</h5>
                                <div class="h4 fw-bold" id="visibility">-- km</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- New Features: Source Contribution & Forecast -->
                <div class="row mb-4">
                    <div class="col-12 col-lg-6 mb-3">
                        <div class="dashboard-card h-100">
                            <div class="card-header">
                                <h5 class="mb-0"><i class="fas fa-chart-pie me-2"></i>Source Contribution</h5>
                            </div>
                            <div class="card-body">
                                <canvas id="sourceChart" height="250"></canvas>
                            </div>
                        </div>
                    </div>
                    <div class="col-12 col-lg-6 mb-3">
                        <div class="dashboard-card h-100">
                            <div class="card-header">
                                <h5 class="mb-0"><i class="fas fa-chart-line me-2"></i>72-Hour AQI Forecast</h5>
                            </div>
                            <div class="card-body">
                                <canvas id="forecastChart" height="250"></canvas>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Pollutant Breakdown -->
                <div class="row mb-4">
                    <div class="col-12">
                        <div class="dashboard-card">
                            <div class="card-header">
                                <h4 class="mb-0"><i class="fas fa-flask me-2"></i>Pollutant Levels</h4>
                            </div>
                            <div class="card-body">
                                <div class="row" id="pollutantLevels">
                                    <div class="col-12 text-center">
                                        <div class="loading-spinner"></div>
                                        <p>Loading pollutant data...</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Health Recommendations -->
                <div class="row mb-4">
                    <div class="col-12 col-lg-6 mb-3">
                        <div class="dashboard-card h-100">
                            <div class="card-header bg-success text-black">
                                <h5 class="mb-0"><i class="fas fa-heart me-2"></i>Health Recommendations</h5>
                            </div>
                            <div class="card-body">
                                <div id="healthRecommendations">
                                    <p>Loading health recommendations based on current AQI...</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-12 col-lg-6 mb-3">
                        <div class="dashboard-card h-100">
                            <div class="card-header bg-info text-black">
                                <h5 class="mb-0"><i class="fas fa-lightbulb me-2"></i>Activity Suggestions</h5>
                            </div>
                            <div class="card-body">
                                <div id="activitySuggestions">
                                    <p>Loading activity suggestions...</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Submit Complaint Section -->
            <section class="content-section" id="complaints-section-content">
                <div class="row mb-4">
                    <div class="col-12">
                        <h2 class="fw-bold text-primary"><i class="fas fa-exclamation-triangle me-2"></i>Submit Complaint</h2>
                        <p class="text-muted">Report environmental violations with photo evidence</p>
                    </div>
                </div>

                <div class="row">
                    <div class="col-12 col-lg-8">
                        <div class="dashboard-card">
                            <div class="card-header">
                                <h5 class="mb-0">Complaint Details</h5>
                            </div>
                            <div class="card-body">
                                <form id="complaintForm">
                                    <div class="row">
                                        <div class="col-md-6 mb-3">
                                            <label class="form-label">Complaint Type</label>
                                            <select class="form-select" id="complaintType" required>
                                                <option value="">Select type</option>
                                                <option value="construction">Illegal Construction</option>
                                                <option value="stubble">Stubble Burning</option>
                                                <option value="industry">Illegal Industry</option>
                                                <option value="vehicle">Vehicle Pollution</option>
                                                <option value="waste">Waste Burning</option>
                                            </select>
                                        </div>
                                        <div class="col-md-6 mb-3">
                                            <label class="form-label">Severity Level</label>
                                            <select class="form-select" id="complaintSeverity" required>
                                                <option value="Low">Low</option>
                                                <option value="Medium" selected>Medium</option>
                                                <option value="High">High</option>
                                                <option value="Critical">Critical</option>
                                            </select>
                                        </div>
                                    </div>

                                    <div class="mb-3">
                                        <label class="form-label">Location</label>
                                        <div class="input-group mb-2">
                                            <input type="text" class="form-control" id="complaintLocation" placeholder="Enter location or use current location" required>
                                            <button type="button" class="btn btn-outline-primary" id="getCurrentLocation">
                                                <i class="fas fa-location-arrow"></i>
                                            </button>
                                        </div>
                                        <div id="locationMap" class="map-container mb-2" style="height: 200px; display: none;"></div>
                                        <small class="text-muted" id="locationCoordinates"></small>
                                    </div>

                                    <div class="mb-3">
                                        <label class="form-label">Area Affected</label>
                                        <input type="text" class="form-control" id="areaAffected" placeholder="e.g., Residential area, Park, School zone">
                                    </div>

                                    <div class="mb-3">
                                        <label class="form-label">People Affected (Approx.)</label>
                                        <input type="number" class="form-control" id="peopleAffected" placeholder="Estimated number of people affected">
                                    </div>

                                    <div class="mb-3">
                                        <label class="form-label">Description</label>
                                        <textarea class="form-control" id="complaintDescription" rows="4" placeholder="Describe the issue in detail including time, impact, and any other relevant information" required></textarea>
                                    </div>

                                    <!-- Photo Capture Section -->
                                    <div class="mb-3">
                                        <label class="form-label">Evidence Photos</label>
                                        <div class="camera-container">
                                            <div class="camera-preview" id="cameraPreview">
                                                <div class="text-center text-muted">
                                                    <i class="fas fa-camera fa-3x mb-3"></i>
                                                    <p>Click to capture photos</p>
                                                </div>
                                            </div>
                                            <div class="d-flex gap-2">
                                                <button type="button" class="btn btn-outline-primary flex-fill" id="startCamera">
                                                    <i class="fas fa-camera me-2"></i>Start Camera
                                                </button>
                                                <button type="button" class="btn btn-success flex-fill" id="capturePhoto" style="display: none;">
                                                    <i class="fas fa-camera me-2"></i>Capture Photo
                                                </button>
                                            </div>
                                        </div>
                                        <div class="photo-preview" id="photoPreview"></div>
                                        <small class="text-muted">Capture clear photos showing the violation. Maximum 5 photos allowed.</small>
                                    </div>

                                    <button type="submit" class="btn btn-primary btn-lg">
                                        <span id="complaint-spinner" class="loading-spinner" style="display: none;"></span>
                                        Submit Complaint
                                    </button>
                                </form>
                            </div>
                        </div>
                    </div>

                    <div class="col-12 col-lg-4">
                        <div class="dashboard-card">
                            <div class="card-header bg-info text-black">
                                <h5 class="mb-0"><i class="fas fa-info-circle me-2"></i>Complaint Guidelines</h5>
                            </div>
                            <div class="card-body">
                                <ul class="list-unstyled">
                                    <li class="mb-3">
                                        <i class="fas fa-check-circle text-success me-2"></i>
                                        <strong>Clear Photos:</strong> Capture multiple angles showing the violation clearly
                                    </li>
                                    <li class="mb-3">
                                        <i class="fas fa-check-circle text-success me-2"></i>
                                        <strong>Accurate Location:</strong> Use GPS for precise location mapping
                                    </li>
                                    <li class="mb-3">
                                        <i class="fas fa-check-circle text-success me-2"></i>
                                        <strong>Detailed Description:</strong> Include time, impact, and relevant details
                                    </li>
                                    <li class="mb-3">
                                        <i class="fas fa-check-circle text-success me-2"></i>
                                        <strong>Severity Assessment:</strong> Choose appropriate severity level
                                    </li>
                                </ul>
                                <div class="alert alert-warning mt-3">
                                    <small>
                                        <i class="fas fa-exclamation-triangle me-2"></i>
                                        <strong>Note:</strong> False complaints may lead to account suspension. Ensure all information is accurate.
                                    </small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Complaint Tracking Section -->
            <section class="content-section" id="tracking-section-content">
                <div class="row mb-4">
                    <div class="col-12">
                        <h2 class="fw-bold text-primary"><i class="fas fa-tasks me-2"></i>Complaint Tracking</h2>
                        <p class="text-muted">Monitor your complaint status and tracking history</p>
                    </div>
                </div>

                <div class="row">
                    <div class="col-12 col-lg-8">
                        <div class="dashboard-card">
                            <div class="card-header">
                                <h5 class="mb-0">Your Complaints</h5>
                            </div>
                            <div class="card-body">
                                <div id="complaintsList">
                                    <div class="text-center text-muted py-4">
                                        <div class="loading-spinner"></div>
                                        <p>Loading your complaints...</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-12 col-lg-4">
                        <div class="dashboard-card">
                            <div class="card-header bg-info text-black">
                                <h5 class="mb-0"><i class="fas fa-chart-pie me-2"></i>Complaint Statistics</h5>
                            </div>
                            <div class="card-body">
                                <div id="complaintStats">
                                    <div class="text-center text-muted">
                                        <div class="loading-spinner"></div>
                                        <p>Loading statistics...</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- AQI Map Section -->
            <section class="content-section" id="map-section-content">
                <div class="row mb-4">
                    <div class="col-12">
                        <h2 class="fw-bold text-primary"><i class="fas fa-map-marked-alt me-2"></i>AQI Map</h2>
                        <p class="text-muted">Real-time air quality across Delhi-NCR</p>
                    </div>
                </div>

                <div class="row">
                    <div class="col-12">
                        <div class="dashboard-card">
                            <div class="card-header">
                                <h5 class="mb-0">Delhi-NCR Air Quality Index Map</h5>
                            </div>
                            <div class="card-body">
                                <div id="aqiMap" class="map-container"></div>
                                <div class="row mt-3">
                                    <div class="col-6 col-md-2 text-center mb-2">
                                        <div class="aqi-legend aqi-good p-2 mb-1">0-50</div>
                                        <small>Good</small>
                                    </div>
                                    <div class="col-6 col-md-2 text-center mb-2">
                                        <div class="aqi-legend aqi-satisfactory p-2 mb-1">51-100</div>
                                        <small>Satisfactory</small>
                                    </div>
                                    <div class="col-6 col-md-2 text-center mb-2">
                                        <div class="aqi-legend aqi-moderate p-2 mb-1">101-200</div>
                                        <small>Moderate</small>
                                    </div>
                                    <div class="col-6 col-md-2 text-center mb-2">
                                        <div class="aqi-legend aqi-poor p-2 mb-1">201-300</div>
                                        <small>Poor</small>
                                    </div>
                                    <div class="col-6 col-md-2 text-center mb-2">
                                        <div class="aqi-legend aqi-very-poor p-2 mb-1">301-400</div>
                                        <small>Very Poor</small>
                                    </div>
                                    <div class="col-6 col-md-2 text-center mb-2">
                                        <div class="aqi-legend aqi-severe p-2 mb-1">401+</div>
                                        <small>Severe</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- New Feature: Safe Route Suggestion -->
                <div class="row mt-4">
                    <div class="col-12">
                        <div class="dashboard-card">
                            <div class="card-header">
                                <h5 class="mb-0"><i class="fas fa-route me-2"></i>Safe Route Suggestion</h5>
                            </div>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-4 mb-3">
                                        <label class="form-label">Start Location</label>
                                        <input type="text" class="form-control" id="routeStart" placeholder="Enter starting point">
                                    </div>
                                    <div class="col-md-4 mb-3">
                                        <label class="form-label">End Location</label>
                                        <input type="text" class="form-control" id="routeEnd" placeholder="Enter destination">
                                    </div>
                                    <div class="col-md-4 mb-3 d-flex align-items-end">
                                        <button class="btn btn-primary w-100" id="findSafeRoute">
                                            <i class="fas fa-search me-2"></i>Find Safe Route
                                        </button>
                                    </div>
                                </div>
                                <div id="routeResult" class="mt-3" style="display: none;">
                                    <div class="alert alert-info">
                                        <h6>Recommended Safe Route</h6>
                                        <p class="mb-2" id="routeDetails">Route details will appear here</p>
                                        <small class="text-muted" id="routeAQIInfo">AQI information along the route</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Profile Settings Section -->
            <section class="content-section" id="profile-section-content">
                <div class="row mb-4">
                    <div class="col-12">
                        <h2 class="fw-bold text-primary"><i class="fas fa-user-cog me-2"></i>Profile Settings</h2>
                        <p class="text-muted">Manage your account and preferences</p>
                    </div>
                </div>

                <div class="row">
                    <div class="col-12 col-lg-8">
                        <div class="dashboard-card">
                            <div class="card-header">
                                <h5 class="mb-0">Personal Information</h5>
                            </div>
                            <div class="card-body">
                                <form id="profileForm">
                                    <div class="row">
                                        <div class="col-md-6 mb-3">
                                            <label class="form-label">Full Name</label>
                                            <input type="text" class="form-control" id="profileFullName" required>
                                        </div>
                                        <div class="col-md-6 mb-3">
                                            <label class="form-label">Username</label>
                                            <input type="text" class="form-control" id="profileUsername" readonly>
                                        </div>
                                    </div>
                                    
                                    <div class="row">
                                        <div class="col-md-6 mb-3">
                                            <label class="form-label">Email Address</label>
                                            <input type="email" class="form-control" id="profileEmail" required>
                                        </div>
                                        <div class="col-md-6 mb-3">
                                            <label class="form-label">Mobile Number</label>
                                            <input type="tel" class="form-control" id="profileMobile" required>
                                        </div>
                                    </div>
                                    
                                    <button type="submit" class="btn btn-primary">
                                        <span id="profile-spinner" class="loading-spinner" style="display: none;"></span>
                                        Update Profile
                                    </button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
        
        <!-- Bottom Navigation Bar -->
        <nav class="bottom-nav">
            <div class="nav-item active" data-section="dashboard">
                <i class="fas fa-home"></i>
                <span>Home</span>
            </div>
            <div class="nav-item" data-section="complaints">
                <i class="fas fa-exclamation-triangle"></i>
                <span>Report</span>
            </div>
            <div class="nav-item" data-section="map">
                <i class="fas fa-map-marked-alt"></i>
                <span>Map</span>
            </div>
            <div class="nav-item" data-section="tracking">
                <i class="fas fa-tasks"></i>
                <span>Track</span>
            </div>
            <div class="nav-item" data-section="profile">
                <i class="fas fa-user"></i>
                <span>Profile</span>
            </div>
        </nav>
        
        <!-- Notification Panel -->
        <div class="notification-panel" id="notificationPanel">
            <div class="d-flex justify-content-between align-items-center mb-3">
                <h5 class="mb-0">Notifications</h5>
                <button class="btn btn-sm btn-outline-secondary" id="markAllRead">
                    <i class="fas fa-check-double me-1"></i>Mark All Read
                </button>
            </div>
            <div id="notificationPanelContent">
                <div class="text-center text-muted py-4">
                    <p>Loading notifications...</p>
                </div>
            </div>
        </div>
        
        <!-- Profile Panel -->
        <div class="profile-panel" id="profilePanel">
            <div class="profile-header">
                <div class="profile-avatar">
                    <i class="fas fa-user"></i>
                </div>
                <h5 id="profileUserName">User</h5>
                <p class="text-muted" id="profileUserLocation">Delhi, India</p>
            </div>
            <ul class="list-group list-group-flush">
                <li class="list-group-item text-danger" id="logout-profile">
                    <i class="fas fa-sign-out-alt me-2"></i>Logout
                </li>
            </ul>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    
    <!-- Custom JavaScript -->
    <script src="app.js"></script>
</body>
</html>
